"use strict";(self.webpackChunkflash_list=self.webpackChunkflash_list||[]).push([[822],{6283:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"guides/testing","title":"Testing with Jest","description":"Since FlashList does not immediately render but waits for the size of the underlying ScrollView (unless you specify estimatedListSize), we need to mock triggering onLayout event.","source":"@site/versioned_docs/version-1.x/guides/testing.md","sourceDirName":"guides","slug":"/testing","permalink":"/flash-list/docs/1.x/testing","draft":false,"unlisted":false,"editUrl":"https://github.com/Shopify/flash-list/blob/main/documentation/versioned_docs/version-1.x/guides/testing.md","tags":[],"version":"1.x","lastUpdatedBy":"Bartosz Kaszubowski","lastUpdatedAt":1757634122000,"frontMatter":{"id":"testing","title":"Testing with Jest","slug":"/testing"},"sidebar":"autoSidebar","previous":{"title":"SectionList","permalink":"/flash-list/docs/1.x/guides/section-list"},"next":{"title":"Known issues","permalink":"/flash-list/docs/1.x/known-issues"}}');var i=s(4848),o=s(8453);const r={id:"testing",title:"Testing with Jest",slug:"/testing"},l=void 0,c={},a=[{value:"Setup",id:"setup",level:2},{value:"Example",id:"example",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Since ",(0,i.jsx)(t.code,{children:"FlashList"})," does not immediately render but waits for the size of the underlying ",(0,i.jsx)(t.code,{children:"ScrollView"})," (unless you specify ",(0,i.jsx)(t.a,{href:"usage#estimatedlistsize",children:(0,i.jsx)(t.code,{children:"estimatedListSize"})}),"), we need to mock triggering ",(0,i.jsx)(t.code,{children:"onLayout"})," event."]}),"\n",(0,i.jsx)(t.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(t.p,{children:["Add the following line to your ",(0,i.jsx)(t.code,{children:"jest-setup.js"})," file:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'require("@shopify/flash-list/jestSetup");\n'})}),"\n",(0,i.jsx)(t.p,{children:"To be sure, check if your jest.config.js file contains:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"...\npreset: 'react-native',\nsetupFiles: ['./jest-setup.js'],\n...\n"})}),"\n",(0,i.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(t.p,{children:["Here is an example of using ",(0,i.jsx)(t.a,{href:"https://callstack.github.io/react-native-testing-library/",children:(0,i.jsx)(t.code,{children:"@testing-library/react-native"})}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:'import React from "react";\nimport { render } from "@testing-library/react-native";\n\ndescribe("MyFlashListComponent", () => {\n  it("renders items", () => {\n    const { getByText } = render(<MyFlashListComponent />);\n    const element = getByText("Title of one of the items");\n    // Do something with element ...\n  });\n});\n'})})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>l});var n=s(6540);const i={},o=n.createContext(i);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);