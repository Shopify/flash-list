<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Estimated Item Size Prop | FlashList</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://shopify.github.io/flash-list/docs/flash-list/docs/estimated-item-size"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Estimated Item Size Prop | FlashList"><meta data-react-helmet="true" name="description" content="estimatedItemSize is a single numeric value that hints FlashList about the approximate size of the items before they&#x27;re rendered. FlashList can then use this information to decide how many items it needs to draw on the screen before initial load and while scrolling. If most of the items are of different sizes, you can think of an average or median value and if most items are of the same size, just use that number. A quick look at Element Inspector can help you determine this. If you&#x27;re confused between two values, the smaller value is a better choice."><meta data-react-helmet="true" property="og:description" content="estimatedItemSize is a single numeric value that hints FlashList about the approximate size of the items before they&#x27;re rendered. FlashList can then use this information to decide how many items it needs to draw on the screen before initial load and while scrolling. If most of the items are of different sizes, you can think of an average or median value and if most items are of the same size, just use that number. A quick look at Element Inspector can help you determine this. If you&#x27;re confused between two values, the smaller value is a better choice."><link data-react-helmet="true" rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;‚ö°Ô∏è&lt;/text&gt;&lt;/svg&gt;"><link data-react-helmet="true" rel="canonical" href="https://shopify.github.io/flash-list/docs/flash-list/docs/estimated-item-size"><link data-react-helmet="true" rel="alternate" href="https://shopify.github.io/flash-list/docs/flash-list/docs/estimated-item-size" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://shopify.github.io/flash-list/docs/flash-list/docs/estimated-item-size" hreflang="x-default"><link rel="stylesheet" href="/flash-list/docs/assets/css/styles.b2a85962.css">
<link rel="preload" href="/flash-list/docs/assets/js/runtime~main.8e14a11a.js" as="script">
<link rel="preload" href="/flash-list/docs/assets/js/main.aac1a3cf.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/flash-list/docs/"><div class="navbar__logo"><img src="/flash-list/docs/img/FlashList.png" alt="FlashList" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/flash-list/docs/img/FlashList.png" alt="FlashList" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shopify/flash-list" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåú</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">üåû</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flash-list/docs/">Introduction üìö</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/flash-list/docs/usage">Fundamentals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flash-list/docs/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flash-list/docs/metrics">Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flash-list/docs/performance-troubleshooting">Performance troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/flash-list/docs/estimated-item-size">Estimated Item Size Prop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flash-list/docs/fundamentals/performant-components">Writing performant components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flash-list/docs/recycling">Recycling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/flash-list/docs/guides/layout-animation">Guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flash-list/docs/known-issues">Known issues</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Estimated Item Size Prop</h1></header><p><code>estimatedItemSize</code> is a single numeric value that hints <code>FlashList</code> about the approximate size of the items before they&#x27;re rendered. <code>FlashList</code> can then use this information to decide how many items it needs to draw on the screen before initial load and while scrolling. If most of the items are of <strong>different sizes</strong>, you can think of an average or median value and if most items are of <strong>the same size</strong>, just use that number. A quick look at <code>Element Inspector</code> can help you determine this. If you&#x27;re confused between two values, the smaller value is a better choice.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-to-calculate">How to calculate<a class="hash-link" href="#how-to-calculate" title="Direct link to heading">‚Äã</a></h3><ul><li>Use the average item size from the first render - this will be a part of the warning if you don&#x27;t specify <code>estimatedItemSize</code>.</li><li>If most items are of <strong>similar heights</strong> or <strong>widths</strong> (if horizontal), just open up element inspector from <code>react-native&#x27;s</code> dev menu, check the size of one of the items, and use it. Don&#x27;t worry about different devices. We have enough tolerance to work around it.</li><li>If the items <strong>have a lot of different sizes</strong>, choose a few that are pretty different, use element inspector, read their sizes, and calculate an average. This average will work great, don&#x27;t worry about solving for different devices sizes. There&#x27;s enough tolerance internally.</li><li>If you run into a situation where more than one value seems like a good fit, pick the smaller one.</li></ul><div align="center"><img src="https://user-images.githubusercontent.com/7811728/159806998-ce6b0c27-576c-4fe1-8170-cfa23788cfae.png" width="700"></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="deep-dive">Deep dive<a class="hash-link" href="#deep-dive" title="Direct link to heading">‚Äã</a></h2><p><code>FlashList</code> doesn&#x27;t know the size of its children before they&#x27;re rendered. When the list is loading, it needs to decide how many items to render. There are only few choices here:</p><ul><li><strong>Render a fixed number of items:</strong> A default number of items to render on load may not be right for all devices and it should ideally depend on screen size. Drawing smaller number of items will show up blank space on load and drawing too many will increase load time.</li><li><strong>Use a default value for <code>estimatedItemSize</code>:</strong> If we use a default size for items on launch, we still run into problems. Let&#x27;s say we use <code>50px</code> as the default, without you being aware of this, and you&#x27;re rendering a list with large items like a news feed where items are complex. Let&#x27;s say the actual rendered size is around <code>500px</code>. Based on this assumption, we will draw <code>20</code> items on load if the screen size is <code>1000px</code> while we should only draw 2. This result is not optimal, and you may not even realize how much faster loads can be.</li><li><strong>Take <code>estimatedItemSize</code> from developers:</strong> Instead of trying to hide away this requirement, we&#x27;re letting you make the decision. We have decided to use a size estimate and not an initial count to render because size is a more stable value across device sizes.</li></ul><p>We currently keep <code>estimatedItemSize</code> optional but <strong>strongly</strong> recommend you to set it. If you don&#x27;t, you will get a warning with suggestion to set it to a value equal to the average item size from the first render.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="impact-on-scroll">Impact on scroll<a class="hash-link" href="#impact-on-scroll" title="Direct link to heading">‚Äã</a></h3><p>During very quick scrolls, if offsets are changing very quickly, <code>FlashList</code> might run into a situation where it needs to prepare more than one item. This is just another version of the same problem. If your estimates are too big compared to actual sizes, <code>FlashList</code> might think that a small number of items is enough to fill the screen and you might see blanks. <em>This is the primary reason we suggest using a smaller value if you&#x27;re confused between the two of them.</em> Drawing a few more items is better than showing blanks. With <code>FlashList</code>, we don&#x27;t expect blanks unless components are very slow or <code>estimatedItemSize</code> is too big compared to actual sizes.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="impact-of-number-of-items-drawn-on-responsiveness">Impact of number of items drawn on responsiveness<a class="hash-link" href="#impact-of-number-of-items-drawn-on-responsiveness" title="Direct link to heading">‚Äã</a></h3><p>Having a few items on the screen is great for performance and responsiveness. Small render tree is much faster to update. Let&#x27;s say there&#x27;s a checkbox within your list items and you store their selected state in a store. You&#x27;d want this checkbox to be extremely responsive while changing states and having a large render tree will prevent that from happening. Many of you might have seen this problem in <code>FlatList</code>.</p><p><code>FlatList</code> has a default <a href="https://reactnative.dev/docs/optimizing-flatlist-configuration#windowsize" target="_blank" rel="noopener noreferrer"><code>windowSize</code></a> of <a href="https://reactnative.dev/docs/optimizing-flatlist-configuration#windowsize" target="_blank" rel="noopener noreferrer"><code>21</code></a> which means that, on a <code>1000px</code> tall device, it will draw about <code>10,000px</code> at the bottom and at the top of currently visible window. <code>FlashList</code> in comparison will only draw <code>250px</code> extra on the top and bottom irrespective of the screen size. You will be amazed with how responsive things become when we have a very small number of items and that&#x27;s why we care so much about it.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="impact-of-having-wrong-estimateditemsize">Impact of having wrong <code>estimatedItemSize</code><a class="hash-link" href="#impact-of-having-wrong-estimateditemsize" title="Direct link to heading">‚Äã</a></h3><ul><li>Please note <code>FlashList</code> will not overlap or show gaps between items due to incorrect values provided here.</li><li><strong>If the estimate is much higher than actual values</strong>, you may see few items load on screen and then immediately more will show up. During fast scroll you may see some blank area. It&#x27;s not because things have become slow. The list just doesn&#x27;t know that it has not drawn enough. Once the list knows the actual sizes of items it won&#x27;t rely on estimates and that&#x27;s why on scrolling up you may not see the same problem.</li></ul><div align="center"><img src="https://user-images.githubusercontent.com/7811728/159801541-5540820d-4d90-491d-9645-dd43b684c437.png" width="700"></div><ul><li><strong>If the estimate is much smaller than actual values</strong>, not much will change visibly but you will be drawing more than necessary. If your components are complex, load times might increase.</li></ul><div align="center"><img src="https://user-images.githubusercontent.com/7811728/159801594-51a26edc-8f5b-4fb5-a268-c138b525bd3c.png" width="700"></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="future-revisions">Future Revisions<a class="hash-link" href="#future-revisions" title="Direct link to heading">‚Äã</a></h3><p>We&#x27;re looking at ways to remove this requirement by leveraging <code>Fabric</code>. In the short term, we plan to compute this average after the initial load to prevent issues during quick scrolls. The value provided will be also more relevant for load time optimization.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Shopify/flash-list/blob/main/documentation/docs/fundamentals/estimated-item-size.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-03-22T16:23:13.000Z">3/22/2024</time></b> by <b>Talha Naqvi</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/flash-list/docs/performance-troubleshooting"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Performance troubleshooting</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/flash-list/docs/fundamentals/performant-components"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Writing performant components</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-calculate" class="table-of-contents__link toc-highlight">How to calculate</a></li><li><a href="#deep-dive" class="table-of-contents__link toc-highlight">Deep dive</a><ul><li><a href="#impact-on-scroll" class="table-of-contents__link toc-highlight">Impact on scroll</a></li><li><a href="#impact-of-number-of-items-drawn-on-responsiveness" class="table-of-contents__link toc-highlight">Impact of number of items drawn on responsiveness</a></li><li><a href="#impact-of-having-wrong-estimateditemsize" class="table-of-contents__link toc-highlight">Impact of having wrong <code>estimatedItemSize</code></a></li><li><a href="#future-revisions" class="table-of-contents__link toc-highlight">Future Revisions</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Website</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/flash-list/docs/">‚ö°Ô∏è FlashList</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/shopify/flash-list" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 Shopify Inc.</div></div></div></footer></div>
<script src="/flash-list/docs/assets/js/runtime~main.8e14a11a.js"></script>
<script src="/flash-list/docs/assets/js/main.aac1a3cf.js"></script>
</body>
</html>